{% extends "bootbase.html" %}

{% block content %}
  {{ super() }}
<div class="container">
  <h2>
    <i class="fa fa-pencil-square-o fa-lg" aria-hidden="true"></i>
    {{ formtitle }}
  </h2>
  <hr>
  <form action="" class="form form-horizontal" method="post"
    role="form" name="{{url_for('ep_editbook',authorlist=authorlist)}}">
<!-- AAAA -->
    <div class="form-group">
        {{ form.hidden_tag() }}
        {% if showforce %}
        <div class="row row-grid">
            <div class="col col-sm-2">
                <label for="force">
                  <span style="color:red">
                    Confirm operation
                  </span>
                </label>
            </div>
            <div class="col col-sm-4">
              <span style="color:red">
                {{ form.force(color="red") }}
              </span>
            </div>
        </div>
        {% endif %}

        <div class="row row-grid">
            <div class="col col-sm-2">
                <label for="title">
                    Title
                </label>
            </div>
            <div class="col col-sm-10">
              {{ form.title(class_="form-control") }}
              {% for error in form.title.errors %}
                <span style="color: red;">{{ error }}</span>
              {% endfor %}<br>
            </div>
        </div>

        <hr>
        <div class="row row-grid">
          <div class="col col-sm-2">
              <label for="authorshow">
                  Authors
              </label>
          </div>
          <div class="col col-sm-6">
            <div class="row row-grid">
              <div class="col col-sm-4">
                <ul class="list-unstyled">
                    {% for item in items %}
                        <li>
                            {{ item.description }}
                        </li>
                    {% endfor %}
                </ul>
              </div>
              <div class="col col-sm-8">
                <div class="row row-grid">
                  <div class="col col-sm-6">
                    {% if user.canedit %}
                      {{ form.newauthors(class_="form-control",width="50%") }}
                      {% for error in form.newauthors.errors %}
                        <span style="color: red;">{{ error }}</span>
                      {% endfor %}
                    {% endif %}
                  </div>
                  <div class="col col-sm-6">
                    {% if user.canedit %}
                      {{ form.additem(class_='btn btn-sm btn-success btn-block') }} <br>
                    {% endif %}
                  </div>
                </div>
                <div class="row row-grid">
                  <div class="col col-sm-6">
                    {% if user.canedit %}
                      {{ form.delauthors(class_="form-control",width="50%") }}
                      {% for error in form.delauthors.errors %}
                        <span style="color: red;">{{ error }}</span>
                      {% endfor %}
                    {% endif %}
                  </div>
                  <div class="col col-sm-6">
                    {% if user.canedit %}
                      {{ form.delitem(class_='btn btn-sm btn-success btn-block') }} <br>
                    {% endif %}
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col col-sm-4">
            <div class="row row-grid">
              <div class="col col-sm-12">
                <label for="languages">
                  Languages
                </label>
              </div>
            </div>
            <div class="row row-grid">
              <div class="col col-sm-12">
                <small>
                  {{ form.languages(size=80, class_="list-inline") }}
                  {% for error in form.languages.errors %}
                    <span style="color: red;">{{ error }}</span>
                  {% endfor %}
                </small>
              </div>
            </div>
          </div>
        </div>
        <hr>

        <div class="row row-grid">
            <div class="col col-sm-2">
              <label for="booktype">
                Booktype
              </label>
            </div>
            <div class="col col-sm-2">
              {{ form.booktype(class_="form-control") }}
              {% for error in form.booktype.errors %}
                <span style="color: red;">{{ error }}</span>
              {% endfor %}
            </div>
            <div class="col col-sm-1 col-sm-offset-1">
                {{ form.inhouse() }}
            </div>
            <div class="col col-sm-1">
                <label for="inhouse">
                  In-house
                </label>
            </div>
            <div class="col col-sm-2">
            {{ form.inhousenotes(class_="form-control",placeholder="Fill if away") }}
            {% for error in form.inhousenotes.errors %}
              <span style="color: red;">{{ error }}</span>
            {% endfor %}
            </div>
        </div>

        <div class="row row-grid">
            <div class="col col-sm-2">
                <label for="notes">
                    Notes
                </label>
            </div>
            <div class="col col-sm-10">
              {{ form.notes(class_="form-control") }}<br>
              {% for error in form.notes.errors %}
                <span style="color: red;">{{ error }}</span>
              {% endfor %}
            </div>
        </div>

        <div class="row row-grid">
            <div class="col col-sm-2">
                {% if user.canedit %}
                {{ form.submit(class_="btn btn-primary") }}
                {% endif %}
            </div>
            <div class="col col-sm-2">
                <a class="btn btn-warning" href="{{url_for('ep_books')}}" role="button">
                    Cancel
                </a>
            </div>
        </div>
    </div>
<!-- AAAA -->
  </form>
</div>
{% endblock %}
