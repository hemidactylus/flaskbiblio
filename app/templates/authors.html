{% extends "base.html" %}
{% block content %}
    <h2>Authors
        ({{ queryresult.firstitem + 1 }} - {{ queryresult.lastitem + 1}} of {{ queryresult.ntotal }})
        {% if prevquery %}
            <a href="{{ url_for('ep_authors',**prevquery) }}">Prev</a>
        {% endif %}
        {% if nextquery %}
            <a href="{{ url_for('ep_authors',**nextquery) }}">Next</a>
        {% endif %}
        {% if user.canedit %}
            <p><a href="{{ url_for('ep_editauthor') }}">Add new</a></p>
        {% endif %}
    </h2>
    <hr>
    <ul>
    {% for author in authors %}
            <li>
                <a href="{{url_for('ep_editauthor',id=author.id)}}">{{ author.lastname }}, {{ author.firstname }}</a>
                <i>( {{ author.bookcount }} )</i>
                {% if user.canedit %}
                    <a href="{{url_for('ep_deleteauthor',id=author.id)}}">Delete</a>
                {% endif %}
        </li>
    {% endfor %}
    </ul>
{% endblock %}
